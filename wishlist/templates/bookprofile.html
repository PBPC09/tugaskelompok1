<!DOCTYPE html>
<html>
<head>
    <title>{{ book.title }}</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<h1>{{ book.title }}</h1>
<p>Genre: {{ book.genre }}</p>
<p>Author: {{ book.author }}</p>
<p>Description: {{ book.description }}</p>
<p>Publisher: {{ book.publisher }}</p>
<p>Page Count: {{ book.page_count }}</p>
<p>Price: {{ book.price }} {{ book.currency }}</p>
<p>Rating: {{ book.rating }} ({{ book.voters }} voters)</p>

<!-- Form untuk menambahkan ke wishlist -->
<form id="add-to-wishlist-form" method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Add to Wishlist</button>
</form>

<script>
$(document).ready(function(){
    $("#add-to-wishlist-form").submit(function(e){
        e.preventDefault();
        $.ajax({
            url: "{% url 'wishlist:add_to_wishlist' %}",
            method: 'POST',
            data: $(this).serialize(),
            success: function(response) {
                if (response.status === 'success') {
                    alert("Book added to wishlist");
                } else {
                    alert("Could not add book to wishlist");
                }
            }
        });
    });
});
</script>

</body>
</html>
